import{d as h,k as C,bW as I,l as f,bk as d,bm as x,m as B,o as F,c as S,b as a,w as l,e,C as v,N as c,i as b,t as _,bp as U,aW as n,c2 as G,f as z,Q as D,c3 as M}from"./index.85d3582f.js";import{X as R}from"./PageHeader.556c52c2.js";import{r as g}from"./registry.6876822f.js";import{B as V}from"./ArrowBackCircleOutline.f4323d84.js";import{S as W}from"./SaveOutline.608b2aa9.js";import{a as X,N as $}from"./Grid.4637279d.js";import{N as i}from"./FormItemGridItem.2cbaea10.js";const J=h({setup(q){const{t:o}=C(),N=I(),s=f({}),p=f(),w={name:d(),url:d(),username:d()},{submit:y,submiting:m}=x(p,()=>g.save(s.value),()=>{window.message.info(o("texts.action_success")),M.push({name:"registry_list"})});async function k(){const u=N.params.id;if(u){let t=await g.find(u);s.value=t.data}}return B(k),(u,t)=>(F(),S(D,null,[a(R,{subtitle:s.value.name},{action:l(()=>[a(e(v),{secondary:"",size:"small",onClick:t[0]||(t[0]=r=>u.$router.push({name:"registry_list"}))},{icon:l(()=>[a(e(c),null,{default:l(()=>[a(e(V))]),_:1})]),default:l(()=>[b(" "+_(e(o)("buttons.return")),1)]),_:1})]),_:1},8,["subtitle"]),a(e(z),{class:"page-body",vertical:"",size:12},{default:l(()=>[a(e(U),{model:s.value,ref_key:"form",ref:p,rules:w},{default:l(()=>[a(e(X),{cols:"1 640:2","x-gap":24},{default:l(()=>[a(e(i),{label:e(o)("fields.name"),path:"name"},{default:l(()=>[a(e(n),{placeholder:e(o)("fields.name"),value:s.value.name,"onUpdate:value":t[1]||(t[1]=r=>s.value.name=r)},null,8,["placeholder","value"])]),_:1},8,["label"]),a(e(i),{label:e(o)("fields.url"),path:"url"},{default:l(()=>[a(e(n),{placeholder:e(o)("tips.registry_url"),value:s.value.url,"onUpdate:value":t[2]||(t[2]=r=>s.value.url=r)},null,8,["placeholder","value"])]),_:1},8,["label"]),a(e(i),{label:e(o)("fields.login_name"),path:"username"},{default:l(()=>[a(e(n),{placeholder:e(o)("fields.login_name"),value:s.value.username,"onUpdate:value":t[3]||(t[3]=r=>s.value.username=r)},null,8,["placeholder","value"])]),_:1},8,["label"]),a(e(i),{label:e(o)("fields.password"),path:"password"},{default:l(()=>[a(e(n),{type:"password",placeholder:e(o)("fields.password"),value:s.value.password,"onUpdate:value":t[4]||(t[4]=r=>s.value.password=r)},null,8,["placeholder","value"])]),_:1},8,["label"]),a(e($),{span:2},{default:l(()=>[a(e(v),{onClick:G(e(y),["prevent"]),type:"primary",disabled:e(m),loading:e(m)},{icon:l(()=>[a(e(c),null,{default:l(()=>[a(e(W))]),_:1})]),default:l(()=>[b(" "+_(e(o)("buttons.save")),1)]),_:1},8,["onClick","disabled","loading"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],64))}});export{J as default};
