import{d as w,k as B,l as b,bk as I,bo as C,bm as D,o as F,c as G,b as a,w as l,e,C as h,N as _,i as p,t as N,bp as R,aW as i,c2 as S,f as V,Q as z,h as U,c3 as P}from"./index.85d3582f.js";import{X}from"./PageHeader.556c52c2.js";import{v as $}from"./volume.fc7933c5.js";import{B as q}from"./ArrowBackCircleOutline.f4323d84.js";import{S as A}from"./SaveOutline.608b2aa9.js";import{a as E,N as H}from"./Grid.4637279d.js";import{N as d}from"./FormItemGridItem.2cbaea10.js";import{N as L}from"./RadioGroup.5ac456f1.js";import{N as g}from"./Radio.10d2e386.js";import{N as x}from"./DynamicInput.74e0089b.js";import"./Add.32836a6c.js";import"./Remove.e20fb71e.js";import"./ArrowDown.224587e2.js";const M=p("Local"),O=p("Other"),Q=U("div",{style:{height:"34px","line-height":"34px",margin:"0 8px"}},"=",-1),T=U("div",{style:{height:"34px","line-height":"34px",margin:"0 8px"}},"=",-1),ne=w({setup(W){const{t}=B(),o=b({driver:"local"}),y={name:I(),driver:C((c,r)=>r==="other"?Boolean(o.value.customDriver):!0,t("tips.volume_driver_rule"))},m=b(),{submit:k,submiting:v}=D(m,()=>$.save(o.value),()=>{window.message.info(t("texts.action_success")),P.push({name:"volume_list"})});function f(){return{name:"",value:""}}return(c,r)=>(F(),G(z,null,[a(X,null,{action:l(()=>[a(e(h),{secondary:"",size:"small",onClick:r[0]||(r[0]=u=>c.$router.push({name:"volume_list"}))},{icon:l(()=>[a(e(_),null,{default:l(()=>[a(e(q))]),_:1})]),default:l(()=>[p(" "+N(e(t)("buttons.return")),1)]),_:1})]),_:1}),a(e(V),{class:"page-body",vertical:"",size:12},{default:l(()=>[a(e(R),{model:o.value,rules:y,ref_key:"form",ref:m,"label-placement":"top","label-width":"90"},{default:l(()=>[a(e(E),{cols:"1 640:2","x-gap":24},{default:l(()=>[a(e(d),{label:e(t)("fields.name"),span:"1",path:"name","label-placement":"left"},{default:l(()=>[a(e(i),{placeholder:e(t)("fields.name"),value:o.value.name,"onUpdate:value":r[1]||(r[1]=u=>o.value.name=u)},null,8,["placeholder","value"])]),_:1},8,["label"]),a(e(d),{label:e(t)("fields.driver"),path:"driver",span:"2","label-placement":"left"},{default:l(()=>[a(e(L),{value:o.value.driver,"onUpdate:value":r[2]||(r[2]=u=>o.value.driver=u)},{default:l(()=>[a(e(g),{key:"local",value:"local"},{default:l(()=>[M]),_:1}),a(e(g),{key:"other",value:"other"},{default:l(()=>[O]),_:1})]),_:1},8,["value"]),a(e(i),{placeholder:e(t)("fields.driver_name"),value:o.value.customDriver,"onUpdate:value":r[3]||(r[3]=u=>o.value.customDriver=u),disabled:o.value.driver==="local",style:{"max-width":"150px"}},null,8,["placeholder","value","disabled"])]),_:1},8,["label"]),a(e(d),{span:"3",label:e(t)("fields.options"),path:"options"},{default:l(()=>[a(e(x),{value:o.value.options,"onUpdate:value":r[4]||(r[4]=u=>o.value.options=u),"on-create":f},{default:l(({index:u,value:s})=>[a(e(i),{placeholder:e(t)("fields.name"),value:s.name,"onUpdate:value":n=>s.name=n},null,8,["placeholder","value","onUpdate:value"]),Q,a(e(i),{placeholder:e(t)("fields.value"),value:s.value,"onUpdate:value":n=>s.value=n},null,8,["placeholder","value","onUpdate:value"])]),_:1},8,["value"])]),_:1},8,["label"]),a(e(d),{span:"3",label:e(t)("fields.labels"),path:"labels"},{default:l(()=>[a(e(x),{value:o.value.labels,"onUpdate:value":r[5]||(r[5]=u=>o.value.labels=u),"on-create":f},{default:l(({index:u,value:s})=>[a(e(i),{placeholder:e(t)("fields.name"),value:s.name,"onUpdate:value":n=>s.name=n},null,8,["placeholder","value","onUpdate:value"]),T,a(e(i),{placeholder:e(t)("fields.value"),value:s.value,"onUpdate:value":n=>s.value=n},null,8,["placeholder","value","onUpdate:value"])]),_:1},8,["value"])]),_:1},8,["label"]),a(e(H),{span:2},{default:l(()=>[a(e(h),{onClick:S(e(k),["prevent"]),type:"primary",disabled:e(v),loading:e(v)},{icon:l(()=>[a(e(_),null,{default:l(()=>[a(e(A))]),_:1})]),default:l(()=>[p(" "+N(e(t)("buttons.save")),1)]),_:1},8,["onClick","disabled","loading"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],64))}});export{ne as default};
