import{d as b,k,l as w,m as C,o as m,c as f,b as l,w as n,e,C as c,N as $,i as d,t as a,h as t,Q as p,T as z,f as A}from"./index.85d3582f.js";import{X as H}from"./PageHeader.556c52c2.js";import{_ as M}from"./Anchor.d96a0ee7.js";import{r as _}from"./registry.6876822f.js";import{A as B}from"./AddOutline.f0719097.js";import{N as y}from"./Time.b1d0572f.js";import{N as P}from"./Table.e4fc5dbd.js";import{N as T}from"./Popconfirm.ac7ac0d3.js";const L=b({setup(x){const{t:s}=k(),o=w([]);async function g(r,u){await _.delete(r),o.value.splice(u,1)}async function h(){let r=await _.search();o.value=r.data||[]}return C(h),(r,u)=>(m(),f(p,null,[l(H,{subtitle:e(s)("texts.records",{total:o.value.length},o.value.length)},{action:n(()=>[l(e(c),{secondary:"",size:"small",onClick:u[0]||(u[0]=i=>r.$router.push({name:"registry_new"}))},{icon:n(()=>[l(e($),null,{default:n(()=>[l(e(B))]),_:1})]),default:n(()=>[d(" "+a(e(s)("buttons.new")),1)]),_:1})]),_:1},8,["subtitle"]),l(e(A),{class:"page-body",vertical:"",size:12},{default:n(()=>[l(e(P),{size:"small",bordered:!0,"single-line":!1},{default:n(()=>[t("thead",null,[t("tr",null,[t("th",null,a(e(s)("fields.name")),1),t("th",null,a(e(s)("fields.address")),1),t("th",null,a(e(s)("fields.login_name")),1),t("th",null,a(e(s)("fields.created_at")),1),t("th",null,a(e(s)("fields.updated_at")),1),t("th",null,a(e(s)("fields.actions")),1)])]),t("tbody",null,[(m(!0),f(p,null,z(o.value,(i,N)=>(m(),f("tr",{key:i.id},[t("td",null,[l(M,{url:{name:"registry_detail",params:{id:i.id}}},{default:n(()=>[d(a(i.name),1)]),_:2},1032,["url"])]),t("td",null,a(i.url),1),t("td",null,a(i.username),1),t("td",null,[l(e(y),{time:i.createdAt,format:"y-MM-dd HH:mm:ss"},null,8,["time"])]),t("td",null,[l(e(y),{time:i.updatedAt,format:"y-MM-dd HH:mm:ss"},null,8,["time"])]),t("td",null,[l(e(c),{size:"tiny",quaternary:"",type:"warning",onClick:v=>r.$router.push({name:"registry_edit",params:{id:i.id}})},{default:n(()=>[d(a(e(s)("buttons.edit")),1)]),_:2},1032,["onClick"]),l(e(T),{"show-icon":!1,onPositiveClick:v=>g(i.id,N)},{trigger:n(()=>[l(e(c),{size:"tiny",quaternary:"",type:"error"},{default:n(()=>[d(a(e(s)("buttons.delete")),1)]),_:1})]),default:n(()=>[d(" "+a(e(s)("prompts.delete")),1)]),_:2},1032,["onPositiveClick"])])]))),128))])]),_:1})]),_:1})],64))}});export{L as default};
