import{d as k,k as C,l as w,m as z,o as u,c as m,b as s,e,w as o,h as t,t as l,Q as p,T as x,f as B,i as r,C as y}from"./index.85d3582f.js";import{_ as P}from"./Anchor.d96a0ee7.js";import{X as T}from"./PageHeader.556c52c2.js";import{n as h}from"./node.67b41fa8.js";import{N as V}from"./Table.e4fc5dbd.js";import{N as _}from"./Tag.04c651c7.js";import{N as $}from"./Popconfirm.ac7ac0d3.js";const H=k({setup(q){const{t:n}=C(),i=w([]);async function g(d,f){await h.delete(d),i.value.splice(f,1)}async function N(){let d=await h.search();i.value=d.data||[]}return z(N),(d,f)=>(u(),m(p,null,[s(T,{subtitle:e(n)("texts.records",{total:i.value.length},i.value.length)},null,8,["subtitle"]),s(e(B),{class:"page-body",vertical:"",size:12},{default:o(()=>[s(e(V),{size:"small",bordered:!0,"single-line":!1},{default:o(()=>[t("thead",null,[t("tr",null,[t("th",null,l(e(n)("fields.name")),1),t("th",null,l(e(n)("fields.role")),1),t("th",null,l(e(n)("fields.version")),1),t("th",null,l(e(n)("fields.cpu")),1),t("th",null,l(e(n)("fields.memory")),1),t("th",null,l(e(n)("fields.address")),1),t("th",null,l(e(n)("fields.state")),1),t("th",null,l(e(n)("fields.actions")),1)])]),t("tbody",null,[(u(!0),m(p,null,x(i.value,(a,v)=>{var c;return u(),m("tr",{key:a.id},[t("td",null,[s(P,{url:{name:"node_detail",params:{id:a.id}}},{default:o(()=>[r(l(a.name||a.hostname),1)]),_:2},1032,["url"])]),t("td",null,[s(e(_),{round:"",size:"small",type:a.role==="manager"?(c=a.manager)!=null&&c.leader?"error":"primary":"default"},{default:o(()=>[r(l(a.role),1)]),_:2},1032,["type"])]),t("td",null,l(a.engineVersion),1),t("td",null,l(a.cpu),1),t("td",null,l(a.memory.toFixed(2))+" GB",1),t("td",null,l(a.address),1),t("td",null,[s(e(_),{round:"",size:"small",type:a.state==="ready"?"success":"error"},{default:o(()=>[r(l(a.state),1)]),_:2},1032,["type"])]),t("td",null,[s(e(y),{size:"tiny",quaternary:"",type:"warning",onClick:b=>d.$router.push({name:"node_edit",params:{id:a.id}})},{default:o(()=>[r(l(e(n)("buttons.edit")),1)]),_:2},1032,["onClick"]),s(e($),{"show-icon":!1,onPositiveClick:b=>g(a.id,v)},{trigger:o(()=>[s(e(y),{size:"tiny",quaternary:"",type:"error"},{default:o(()=>[r(l(e(n)("buttons.delete")),1)]),_:1})]),default:o(()=>[r(" "+l(e(n)("prompts.delete")),1)]),_:2},1032,["onPositiveClick"])])])}),128))])]),_:1})]),_:1})],64))}});export{H as default};
