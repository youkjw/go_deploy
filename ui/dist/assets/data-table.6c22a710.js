import{J as c,cb as d,P as f,m as z}from"./index.85d3582f.js";function m(p,i,r=!0){const t=c({loading:!1,data:[]}),a=c({page:1,pageCount:1,pageSize:10,itemCount:0,showSizePicker:!0,pageSizes:[10,20,50],prefix({itemCount:e}){return d("texts.records",{total:e},e)}}),o=async function(e=1){var s,g;t.data=[],t.loading=!0;try{let n=typeof i=="function"?i():i;n=f(n)?n.value:n;let u=await p({...n,pageIndex:e,pageSize:a.pageSize});t.data=((s=u.data)==null?void 0:s.items)||[],a.itemCount=((g=u.data)==null?void 0:g.total)||0,a.page=e,a.pageCount=Math.ceil(a.itemCount/a.pageSize)}finally{t.loading=!1}},l=function(e){a.page=1,a.pageSize=e,o()};return r&&z(o),{state:t,pagination:a,fetchData:o,changePageSize:l}}export{m as u};
