import{d as k,o as g,a as C,b as r,k as P,ca as j,J as U,cr as y,z as n,cs as _,N as c,ct as $,m as V,c as D,w as i,e,C as h,i as m,t as f,f as x,aW as b,Q as L}from"./index.85d3582f.js";import{X as O}from"./PageHeader.556c52c2.js";import{X}from"./Code.85cde3b3.js";import{c as w}from"./chart.4edba4f5.js";import{r as H,a as z,e as J,b as Q}from"./render.edbb01fe.js";import{u as E}from"./data-table.6c22a710.js";import{A as F}from"./AddOutline.f0719097.js";import{N as R}from"./Select.60c05ccc.js";import{N as W}from"./DataTable.20b75ea0.js";import"./index.9d2bf9c2.js";import"./CopyOutline.e34332fe.js";import"./Anchor.d96a0ee7.js";import"./Tag.04c651c7.js";import"./Time.b1d0572f.js";import"./Popconfirm.ac7ac0d3.js";import"./ArrowDown.224587e2.js";import"./Checkbox.1898d3a6.js";import"./RadioGroup.5ac456f1.js";import"./Radio.10d2e386.js";const q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},G=r("path",{d:"M80 152v256a40.12 40.12 0 0 0 40 40h272a40.12 40.12 0 0 0 40-40V152",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),K=r("rect",{x:"48",y:"64",width:"416",height:"80",rx:"28",ry:"28",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),Y=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 304l-64 64l-64-64"},null,-1),Z=r("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 345.89V224"},null,-1);var ee=k({name:"ArchiveOutline",render:function(t,p){return g(),C("svg",q,[G,K,Y,Z])}});const te={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ae=r("path",{d:"M256.05 80.65Q263.94 80 272 80c106 0 192 86 192 192s-86 192-192 192A192.09 192.09 0 0 1 89.12 330.65",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),oe=r("path",{d:"M256 48C141.12 48 48 141.12 48 256a207.29 207.29 0 0 0 18.09 85L256 256z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1);var re=k({name:"PieChartOutline",render:function(t,p){return g(),C("svg",te,[ae,oe])}});const Be=k({setup(v){const{t}=P(),p=j(),s=U({title:"",dashboard:void 0}),N=[{title:t("fields.title"),key:"title",fixed:"left",render:a=>H({name:"chart_detail",params:{id:a.id}},a.title)},{title:t("fields.type"),key:"type",render:a=>{switch(a.type){case"line":return n(_,{size:20,viewBox:"0 0 32 32",path:"M4.67 28l6.39-12l7.3 6.49a2 2 0 0 0 1.7.47a2 2 0 0 0 1.42-1.07L27 10.9l-1.82-.9l-5.49 11l-7.3-6.49a2 2 0 0 0-1.68-.51a2 2 0 0 0-1.42 1L4 25V2H2v26a2 2 0 0 0 2 2h26v-2z"});case"bar":return n(c,{size:20,style:"vertical-align: middle"},{default:()=>n($)});case"pie":return n(c,{size:20,style:"vertical-align: middle"},{default:()=>n(re)});case"gauge":return n(_,{size:20,viewBox:"0 0 24 24",path:"M7.934 16.066a.75.75 0 1 1-1.06 1.06a7.25 7.25 0 0 1 6.798-12.181a.75.75 0 1 1-.344 1.46a5.75 5.75 0 0 0-5.393 9.661zm9.954-6.924a.75.75 0 0 1 .955.46a7.25 7.25 0 0 1-1.716 7.524a.75.75 0 1 1-1.061-1.06a5.75 5.75 0 0 0 1.362-5.969a.75.75 0 0 1 .46-.955zm-2.009-2.475a.625.625 0 0 1 .962.761l-.13.25a354.691 354.691 0 0 1-1.415 2.713a154.8 154.8 0 0 1-1.156 2.157c-.171.31-.326.586-.452.803a4.964 4.964 0 0 1-.32.5a1.875 1.875 0 0 1-2.94-2.327c.086-.109.244-.265.413-.425c.182-.173.414-.387.678-.625a154.39 154.39 0 0 1 1.832-1.62a375.175 375.175 0 0 1 2.314-2.003l.214-.184zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2s10 4.477 10 10zM3.5 12a8.5 8.5 0 1 0 17 0a8.5 8.5 0 0 0-17 0z"});default:return z(y(a.type))}}},{title:t("fields.dashboard"),key:"dashboard",render:a=>z(y(a.dashboard||"any"))},{title:t("fields.width"),key:"width"},{title:t("fields.height"),key:"height"},{title:t("fields.updated_at"),key:"updatedAt",render:a=>J(a.updatedAt)},{title:t("fields.actions"),key:"actions",render(a,o){return Q([{type:"error",text:t("buttons.delete"),action:()=>I(a,o),prompt:t("prompts.delete")},{type:"warning",text:t("buttons.edit"),action:()=>p.push({name:"chart_edit",params:{id:a.id}})},{type:"info",text:t("buttons.export"),action:()=>M(a)}])}}],{state:u,pagination:B,fetchData:d,changePageSize:S}=E(w.search,s);function A(){var a="";window.dialog.success({showIcon:!1,title:t("dialogs.import_chart.title"),content:()=>n(b,{type:"textarea",rows:10,placeholder:t("dialogs.import_chart.tip"),onInput(o){a=o}}),positiveText:t("buttons.confirm"),negativeText:t("buttons.cancel"),async onPositiveClick(){try{const o=JSON.parse(a);await w.save(o),d()}catch(o){return window.message.error(o.message),!1}}})}function M(a){const{id:o,createdAt:l,updatedAt:ie,createdBy:ne,updatedBy:le,...T}=a;window.dialog.success({showIcon:!1,title:t("dialogs.export_chart.title"),content:()=>n(X,{language:"javascript",code:JSON.stringify(T,null,2)})})}async function I(a,o){await w.delete(a.id,a.title),u.data.splice(o,1)}return V(d),(a,o)=>(g(),D(L,null,[r(O,null,{action:i(()=>[r(e(h),{secondary:"",size:"small",onClick:A},{icon:i(()=>[r(e(c),null,{default:i(()=>[r(e(ee))]),_:1})]),default:i(()=>[m(" "+f(e(t)("buttons.import")),1)]),_:1}),r(e(h),{secondary:"",size:"small",onClick:o[0]||(o[0]=l=>a.$router.push({name:"chart_new"}))},{icon:i(()=>[r(e(c),null,{default:i(()=>[r(e(F))]),_:1})]),default:i(()=>[m(" "+f(e(t)("buttons.new")),1)]),_:1})]),_:1}),r(e(x),{class:"page-body",vertical:"",size:12},{default:i(()=>[r(e(x),{size:12},{default:i(()=>[r(e(b),{size:"small",value:e(s).title,"onUpdate:value":o[1]||(o[1]=l=>e(s).title=l),placeholder:e(t)("fields.title"),clearable:""},null,8,["value","placeholder"]),r(e(R),{size:"small",placeholder:e(t)("fields.dashboard"),value:e(s).dashboard,"onUpdate:value":o[2]||(o[2]=l=>e(s).dashboard=l),options:[{label:"Home",value:"home"},{label:"Service",value:"service"}],style:{width:"140px"},clearable:""},null,8,["placeholder","value"]),r(e(h),{size:"small",type:"primary",onClick:o[3]||(o[3]=()=>e(d)())},{default:i(()=>[m(f(e(t)("buttons.search")),1)]),_:1})]),_:1}),r(e(W),{remote:"","row-key":l=>l.id,size:"small",columns:N,data:e(u).data,pagination:e(B),loading:e(u).loading,"onUpdate:page":e(d),onUpdatePageSize:e(S),"scroll-x":"max-content"},null,8,["row-key","data","pagination","loading","onUpdate:page","onUpdatePageSize"])]),_:1})],64))}});export{Be as default};
