import{d as z,k as N,ca as w,J as x,o as v,c as C,b as i,w as n,e,C as p,N as A,i as m,t as u,f as c,aW as S,Q as U}from"./index.85d3582f.js";import{X as h}from"./PageHeader.556c52c2.js";import{c as f}from"./config.6c9985f6.js";import{r as B,b as D}from"./render.edbb01fe.js";import{u as I}from"./data-table.6c22a710.js";import{A as P}from"./AddOutline.f0719097.js";import{N as T}from"./DataTable.20b75ea0.js";import"./Anchor.d96a0ee7.js";import"./Tag.04c651c7.js";import"./Time.b1d0572f.js";import"./Popconfirm.ac7ac0d3.js";import"./ArrowDown.224587e2.js";import"./Checkbox.1898d3a6.js";import"./RadioGroup.5ac456f1.js";import"./Radio.10d2e386.js";import"./Select.60c05ccc.js";const Y=z({setup(V){const{t}=N(),g=w(),s=x({name:""}),y=[{title:t("fields.id"),key:"id",fixed:"left",render:o=>B({name:"config_detail",params:{id:o.id}},o.id)},{title:t("fields.name"),key:"name"},{title:t("fields.created_at"),key:"createdAt"},{title:t("fields.updated_at"),key:"updatedAt"},{title:t("fields.actions"),key:"actions",render(o,a){return D([{type:"error",text:t("buttons.delete"),action:()=>b(o.id,a),prompt:t("prompts.delete")},{type:"warning",text:t("buttons.edit"),action:()=>g.push({name:"config_edit",params:{id:o.id}})}])}}],{state:l,pagination:k,fetchData:d,changePageSize:_}=I(f.search,s);async function b(o,a){await f.delete(o),l.data.splice(a,1)}return(o,a)=>(v(),C(U,null,[i(h,null,{action:n(()=>[i(e(p),{secondary:"",size:"small",onClick:a[0]||(a[0]=r=>o.$router.push({name:"config_new"}))},{icon:n(()=>[i(e(A),null,{default:n(()=>[i(e(P))]),_:1})]),default:n(()=>[m(" "+u(e(t)("buttons.new")),1)]),_:1})]),_:1}),i(e(c),{class:"page-body",vertical:"",size:12},{default:n(()=>[i(e(c),{size:12},{default:n(()=>[i(e(S),{size:"small",value:e(s).name,"onUpdate:value":a[1]||(a[1]=r=>e(s).name=r),placeholder:e(t)("fields.name"),clearable:""},null,8,["value","placeholder"]),i(e(p),{size:"small",type:"primary",onClick:a[2]||(a[2]=()=>e(d)())},{default:n(()=>[m(u(e(t)("buttons.search")),1)]),_:1})]),_:1}),i(e(T),{remote:"","row-key":r=>r.id,size:"small",columns:y,data:e(l).data,pagination:e(k),loading:e(l).loading,"onUpdate:page":e(d),onUpdatePageSize:e(_),"scroll-x":"max-content"},null,8,["row-key","data","pagination","loading","onUpdate:page","onUpdatePageSize"])]),_:1})],64))}});export{Y as default};
