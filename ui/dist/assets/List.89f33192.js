import{d as z,k as N,ca as w,l as x,J as v,o as S,c as A,b as r,w as i,e,C as p,N as C,i as m,t as u,f as c,aW as U,Q as h}from"./index.85d3582f.js";import{X as B}from"./PageHeader.556c52c2.js";import{s as f}from"./secret.af3de4cb.js";import{r as D,b as I}from"./render.edbb01fe.js";import{u as P}from"./data-table.6c22a710.js";import{A as T}from"./AddOutline.f0719097.js";import{N as V}from"./DataTable.20b75ea0.js";import"./Anchor.d96a0ee7.js";import"./Tag.04c651c7.js";import"./Time.b1d0572f.js";import"./Popconfirm.ac7ac0d3.js";import"./ArrowDown.224587e2.js";import"./Checkbox.1898d3a6.js";import"./RadioGroup.5ac456f1.js";import"./Radio.10d2e386.js";import"./Select.60c05ccc.js";const Z=z({setup(X){const{t}=N(),g=w();x([]);const s=v({name:""}),y=[{title:t("fields.id"),key:"id",fixed:"left",render:o=>D({name:"secret_detail",params:{id:o.id}},o.id)},{title:t("fields.name"),key:"name"},{title:t("fields.created_at"),key:"createdAt"},{title:t("fields.updated_at"),key:"updatedAt"},{title:t("fields.actions"),key:"actions",render(o,a){return I([{type:"error",text:t("buttons.delete"),action:()=>b(o.id,a),prompt:t("prompts.delete")},{type:"warning",text:t("buttons.edit"),action:()=>g.push({name:"secret_edit",params:{id:o.id}})}])}}],{state:l,pagination:k,fetchData:d,changePageSize:_}=P(f.search,s);async function b(o,a){await f.delete(o),l.data.splice(a,1)}return(o,a)=>(S(),A(h,null,[r(B,null,{action:i(()=>[r(e(p),{secondary:"",size:"small",onClick:a[0]||(a[0]=n=>o.$router.push({name:"secret_new"}))},{icon:i(()=>[r(e(C),null,{default:i(()=>[r(e(T))]),_:1})]),default:i(()=>[m(" "+u(e(t)("buttons.new")),1)]),_:1})]),_:1}),r(e(c),{class:"page-body",vertical:"",size:12},{default:i(()=>[r(e(c),{size:12},{default:i(()=>[r(e(U),{size:"small",value:e(s).name,"onUpdate:value":a[1]||(a[1]=n=>e(s).name=n),placeholder:e(t)("fields.name"),clearable:""},null,8,["value","placeholder"]),r(e(p),{size:"small",type:"primary",onClick:a[2]||(a[2]=()=>e(d)())},{default:i(()=>[m(u(e(t)("buttons.search")),1)]),_:1})]),_:1}),r(e(V),{remote:"","row-key":n=>n.id,size:"small",columns:y,data:e(l).data,pagination:e(k),loading:e(l).loading,"onUpdate:page":e(d),onUpdatePageSize:e(_),"scroll-x":"max-content"},null,8,["row-key","data","pagination","loading","onUpdate:page","onUpdatePageSize"])]),_:1})],64))}});export{Z as default};
