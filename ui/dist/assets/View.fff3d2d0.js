import{d as X,k as T,bW as C,l as g,m as D,o as d,c as y,b as r,w as t,e,C as V,N as S,i,t as o,h as F,f as h,a as p,Q as k,T as I,g as c}from"./index.85d3582f.js";import{X as P}from"./PageHeader.556c52c2.js";import{X as $}from"./Code.85cde3b3.js";import{X as A}from"./Panel.5fe42ab1.js";import{X as j,_ as u}from"./DescriptionItem.136d9c3a.js";import{i as E}from"./image.5d9500d2.js";import{c as H,f as N}from"./render.edbb01fe.js";import{B as L}from"./ArrowBackCircleOutline.f4323d84.js";import{N as w,a as M}from"./Tabs.cb7015dd.js";import{N as Q}from"./DataTable.20b75ea0.js";import{N as R}from"./Tag.04c651c7.js";import"./index.9d2bf9c2.js";import"./CopyOutline.e34332fe.js";import"./hr.a93a0821.js";import"./Grid.4637279d.js";import"./Anchor.d96a0ee7.js";import"./Time.b1d0572f.js";import"./Popconfirm.ac7ac0d3.js";import"./Add.32836a6c.js";import"./ArrowDown.224587e2.js";import"./Checkbox.1898d3a6.js";import"./RadioGroup.5ac456f1.js";import"./Radio.10d2e386.js";import"./Select.60c05ccc.js";const W={class:"page-body"},ve=X({setup(q){const{t:l}=T(),b=C(),a=g({}),v=g(""),z=b.params.node||"",x=[{title:l("fields.sn"),key:"no",width:45,fixed:"left",render:(n,s)=>s+1},{title:l("fields.instruction"),key:"createdBy",width:500},{title:l("fields.tags"),key:"image",render(n){var s;if(n.tags)return H((s=n.tags)==null?void 0:s.map(m=>({text:m,type:"default"})),!0,6)}},{title:l("fields.size"),key:"size",width:90,render(n){return N(n.size)}},{title:l("fields.comment"),key:"comment"},{title:l("fields.created_at"),key:"createdAt",width:150}];async function B(){var m,_;const n=b.params.id;let s=await E.find(z,n);v.value=(m=s.data)==null?void 0:m.raw,a.value=(_=s.data)==null?void 0:_.image,a.value.histories&&a.value.histories.reverse()}return D(B),(n,s)=>(d(),y(k,null,[r(P,{subtitle:a.value.id},{action:t(()=>[r(e(V),{secondary:"",size:"small",onClick:s[0]||(s[0]=m=>n.$router.push({name:"image_list"}))},{icon:t(()=>[r(e(S),null,{default:t(()=>[r(e(L))]),_:1})]),default:t(()=>[i(" "+o(e(l)("buttons.return")),1)]),_:1})]),_:1},8,["subtitle"]),F("div",W,[r(e(M),{type:"line",style:{"margin-top":"-12px"}},{default:t(()=>[r(e(w),{name:"detail",tab:e(l)("fields.detail")},{default:t(()=>[r(e(h),{vertical:"",size:16},{default:t(()=>[r(e(j),{"label-placement":"left","label-align":"right","label-width":110},{default:t(()=>{var m,_;return[r(e(u),{label:e(l)("fields.id"),span:2},{default:t(()=>[i(o(a.value.id),1)]),_:1},8,["label"]),a.value.tags&&a.value.tags.length?(d(),p(e(u),{key:0,label:e(l)("fields.tags"),span:2},{default:t(()=>[r(e(h),{size:4},{default:t(()=>[(d(!0),y(k,null,I(a.value.tags,f=>(d(),p(e(R),{round:"",size:"small",type:"default"},{default:t(()=>[i(o(f),1)]),_:2},1024))),256))]),_:1})]),_:1},8,["label"])):c("",!0),r(e(u),{label:e(l)("fields.created_at"),span:2},{default:t(()=>[i(o(a.value.created),1)]),_:1},8,["label"]),r(e(u),{label:e(l)("fields.size")},{default:t(()=>[i(o(e(N)(a.value.size)),1)]),_:1},8,["label"]),r(e(u),{label:e(l)("fields.platform")},{default:t(()=>[i(o(a.value.os+"/"+a.value.arch),1)]),_:1},8,["label"]),a.value.dockerVersion?(d(),p(e(u),{key:1,label:e(l)("fields.docker_version"),span:2},{default:t(()=>[i(o(a.value.dockerVersion),1)]),_:1},8,["label"])):c("",!0),(m=a.value.graphDriver)!=null&&m.name?(d(),p(e(u),{key:2,label:e(l)("fields.graph_driver")},{default:t(()=>{var f;return[i(o((f=a.value.graphDriver)==null?void 0:f.name),1)]}),_:1},8,["label"])):c("",!0),(_=a.value.rootFS)!=null&&_.type?(d(),p(e(u),{key:3,label:e(l)("fields.root_fs")},{default:t(()=>{var f;return[i(o((f=a.value.rootFS)==null?void 0:f.type),1)]}),_:1},8,["label"])):c("",!0),a.value.comment?(d(),p(e(u),{key:4,label:e(l)("fields.comment"),span:2},{default:t(()=>[i(o(a.value.comment),1)]),_:1},8,["label"])):c("",!0)]}),_:1}),a.value.histories&&a.value.histories.length?(d(),p(A,{key:0,title:e(l)("fields.layers")},{default:t(()=>[r(e(Q),{remote:"",size:"small",columns:x,data:a.value.histories,"scroll-x":"max-content"},null,8,["data"])]),_:1},8,["title"])):c("",!0)]),_:1})]),_:1},8,["tab"]),r(e(w),{name:"raw",tab:e(l)("fields.raw")},{default:t(()=>[r($,{code:v.value,language:"json"},null,8,["code"])]),_:1},8,["tab"])]),_:1})])],64))}});export{ve as default};
