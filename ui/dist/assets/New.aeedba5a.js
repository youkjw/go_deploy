import{d as S,k as P,l as N,bk as R,bm as F,o as V,c as z,b as a,w as l,e,C as U,N as k,i as d,t as v,bp as D,aW as r,c2 as H,f as L,Q as M,h as x,c3 as X}from"./index.85d3582f.js";import{X as $}from"./PageHeader.556c52c2.js";import{n as q}from"./network.579b8bcd.js";import{B as A}from"./ArrowBackCircleOutline.f4323d84.js";import{N as m}from"./Switch.f4840aa3.js";import{N as b}from"./InputGroupLabel.138e9ae8.js";import{S as E}from"./SaveOutline.608b2aa9.js";import{a as O,N as Q}from"./Grid.4637279d.js";import{N as p}from"./FormItemGridItem.2cbaea10.js";import{N as w}from"./RadioGroup.5ac456f1.js";import{N as f}from"./Radio.10d2e386.js";import{N as c}from"./DynamicInput.74e0089b.js";import{N as g}from"./InputGroup.0f983dd9.js";import"./Add.32836a6c.js";import"./Remove.e20fb71e.js";import"./ArrowDown.224587e2.js";const T=d("Overlay"),W=d("Bridge"),j=d("IPvlan"),J=d("Macvlan"),K=d("Host"),Y=d("Swarm"),Z=d("Local"),ee=x("div",{style:{height:"34px","line-height":"34px",margin:"0 8px"}},"=",-1),ae=x("div",{style:{height:"34px","line-height":"34px",margin:"0 8px"}},"=",-1),he=S({setup(le){const{t:o}=P(),n=N({driver:"overlay",scope:"swarm",ipam:{}}),I={name:R()},_=N(),{submit:B,submiting:h}=F(_,()=>q.save(n.value),()=>{window.message.info(o("texts.action_success")),X.push({name:"network_list"})});function C(){return{subnet:"",gateway:"",range:""}}function y(){return{name:"",value:""}}return(G,u)=>(V(),z(M,null,[a($,null,{action:l(()=>[a(e(U),{secondary:"",size:"small",onClick:u[0]||(u[0]=t=>G.$router.push({name:"network_list"}))},{icon:l(()=>[a(e(k),null,{default:l(()=>[a(e(A))]),_:1})]),default:l(()=>[d(" "+v(e(o)("buttons.return")),1)]),_:1})]),_:1}),a(e(L),{class:"page-body",vertical:"",size:12},{default:l(()=>[a(e(D),{model:n.value,rules:I,ref_key:"form",ref:_,"label-placement":"top","label-width":"90"},{default:l(()=>[a(e(O),{cols:"1 640:2","x-gap":24},{default:l(()=>[a(e(p),{label:e(o)("fields.name"),span:"2",path:"name","label-placement":"left"},{default:l(()=>[a(e(r),{placeholder:e(o)("fields.name"),value:n.value.name,"onUpdate:value":u[1]||(u[1]=t=>n.value.name=t),style:{"max-width":"400px"}},null,8,["placeholder","value"])]),_:1},8,["label"]),a(e(p),{label:e(o)("fields.driver"),path:"driver",span:"1","label-placement":"left"},{default:l(()=>[a(e(w),{value:n.value.driver,"onUpdate:value":u[2]||(u[2]=t=>n.value.driver=t)},{default:l(()=>[a(e(f),{key:"overlay",value:"overlay"},{default:l(()=>[T]),_:1}),a(e(f),{key:"bridge",value:"bridge"},{default:l(()=>[W]),_:1}),a(e(f),{key:"ipvlan",value:"ipvlan"},{default:l(()=>[j]),_:1}),a(e(f),{key:"macvlan",value:"macvlan"},{default:l(()=>[J]),_:1}),a(e(f),{key:"host",value:"host"},{default:l(()=>[K]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),a(e(p),{label:e(o)("fields.scope"),path:"scope",span:"1","label-placement":"left"},{default:l(()=>[a(e(w),{value:n.value.scope,"onUpdate:value":u[3]||(u[3]=t=>n.value.scope=t)},{default:l(()=>[a(e(f),{key:"swarm",value:"swarm"},{default:l(()=>[Y]),_:1}),a(e(f),{key:"local",value:"local"},{default:l(()=>[Z]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),a(e(p),{label:e(o)("fields.internal"),path:"internal","label-placement":"left","label-align":"right"},{default:l(()=>[a(e(m),{value:n.value.internal,"onUpdate:value":u[4]||(u[4]=t=>n.value.internal=t)},null,8,["value"])]),_:1},8,["label"]),a(e(p),{label:e(o)("fields.attachable"),path:"attachable","label-placement":"left","label-align":"right"},{default:l(()=>[a(e(m),{value:n.value.attachable,"onUpdate:value":u[5]||(u[5]=t=>n.value.attachable=t)},null,8,["value"])]),_:1},8,["label"]),a(e(p),{label:e(o)("fields.ingress"),path:"ingress","label-placement":"left"},{default:l(()=>[a(e(m),{value:n.value.ingress,"onUpdate:value":u[6]||(u[6]=t=>n.value.ingress=t)},null,8,["value"])]),_:1},8,["label"]),a(e(p),{label:"IPv6",path:"ipv6","label-placement":"left","label-align":"right"},{default:l(()=>[a(e(m),{value:n.value.ipv6,"onUpdate:value":u[7]||(u[7]=t=>n.value.ipv6=t)},{checked:l(()=>[d(v(e(o)("enums.enabled")),1)]),unchecked:l(()=>[d(v(e(o)("enums.disabled")),1)]),_:1},8,["value"])]),_:1}),a(e(p),{span:"3",label:"IP",path:"ipam.config"},{default:l(()=>[a(e(c),{value:n.value.ipam.config,"onUpdate:value":u[8]||(u[8]=t=>n.value.ipam.config=t),"on-create":C},{default:l(({index:t,value:s})=>[a(e(g),null,{default:l(()=>[a(e(b),null,{default:l(()=>[d(v(e(o)("fields.subnet")),1)]),_:1}),a(e(r),{placeholder:"e.g. 172.20.0.0/16",value:s.subnet,"onUpdate:value":i=>s.subnet=i},null,8,["value","onUpdate:value"])]),_:2},1024),a(e(g),{style:{margin:"auto 10px"}},{default:l(()=>[a(e(b),null,{default:l(()=>[d(v(e(o)("fields.gateway")),1)]),_:1}),a(e(r),{placeholder:"e.g. 172.20.10.11",value:s.gateway,"onUpdate:value":i=>s.gateway=i},null,8,["value","onUpdate:value"])]),_:2},1024),a(e(g),null,{default:l(()=>[a(e(b),null,{default:l(()=>[d(v(e(o)("fields.range")),1)]),_:1}),a(e(r),{placeholder:"e.g. 172.20.10.0/24",value:s.ipRange,"onUpdate:value":i=>s.ipRange=i},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:1},8,["value"])]),_:1}),a(e(p),{span:"3",label:e(o)("fields.options"),path:"options"},{default:l(()=>[a(e(c),{value:n.value.options,"onUpdate:value":u[9]||(u[9]=t=>n.value.options=t),"on-create":y},{default:l(({index:t,value:s})=>[a(e(r),{placeholder:e(o)("fields.name"),value:s.name,"onUpdate:value":i=>s.name=i},null,8,["placeholder","value","onUpdate:value"]),ee,a(e(r),{placeholder:e(o)("fields.value"),value:s.value,"onUpdate:value":i=>s.value=i},null,8,["placeholder","value","onUpdate:value"])]),_:1},8,["value"])]),_:1},8,["label"]),a(e(p),{span:"3",label:e(o)("fields.tags"),path:"labels"},{default:l(()=>[a(e(c),{value:n.value.labels,"onUpdate:value":u[10]||(u[10]=t=>n.value.labels=t),"on-create":y},{default:l(({index:t,value:s})=>[a(e(r),{placeholder:e(o)("fields.name"),value:s.name,"onUpdate:value":i=>s.name=i},null,8,["placeholder","value","onUpdate:value"]),ae,a(e(r),{placeholder:e(o)("fields.value"),value:s.value,"onUpdate:value":i=>s.value=i},null,8,["placeholder","value","onUpdate:value"])]),_:1},8,["value"])]),_:1},8,["label"]),a(e(Q),{span:2},{default:l(()=>[a(e(U),{onClick:H(e(B),["prevent"]),type:"primary",disabled:e(h),loading:e(h)},{icon:l(()=>[a(e(k),null,{default:l(()=>[a(e(E))]),_:1})]),default:l(()=>[d(" "+v(e(o)("buttons.save")),1)]),_:1},8,["onClick","disabled","loading"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],64))}});export{he as default};
