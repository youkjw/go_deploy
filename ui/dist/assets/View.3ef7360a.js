import{d as h,k as w,bW as C,l as $,y as H,m as M,o as p,c as _,b as a,w as t,e,C as b,N as T,i as o,t as n,a as c,g as y,Q as v,T as x,f as z}from"./index.85d3582f.js";import{X as A}from"./PageHeader.556c52c2.js";import{X as D}from"./Panel.5fe42ab1.js";import{X as I}from"./PairTag.0563def6.js";import{_ as B}from"./Anchor.d96a0ee7.js";import{X as P,_ as m}from"./DescriptionItem.136d9c3a.js";import{r as S}from"./role.e89e830c.js";import{p as V}from"./perm.097b4109.js";import{B as E}from"./ArrowBackCircleOutline.f4323d84.js";import{N}from"./Time.b1d0572f.js";import{a as G,N as j}from"./Grid.4637279d.js";import"./hr.a93a0821.js";const ae=h({setup(F){const{t:r}=w(),g=C(),l=$({}),k=H(()=>{const f=new Set(l.value.perms),i=[];return V.forEach(s=>{const u=s.actions.filter(d=>f.has(s.key+"."+d)).map(d=>r("perms."+d));u.length&&i.push({group:r("objects."+s.key),items:u})}),i});async function X(){let f=await S.find(g.params.id);l.value=f.data}return M(X),(f,i)=>(p(),_(v,null,[a(A,{subtitle:l.value.name},{action:t(()=>[a(e(b),{secondary:"",size:"small",onClick:i[0]||(i[0]=s=>f.$router.push({name:"role_list"}))},{icon:t(()=>[a(e(T),null,{default:t(()=>[a(e(E))]),_:1})]),default:t(()=>[o(" "+n(e(r)("buttons.return")),1)]),_:1}),a(e(b),{secondary:"",size:"small",onClick:i[1]||(i[1]=s=>f.$router.push({name:"role_edit",params:{id:l.value.id}}))},{default:t(()=>[o(n(e(r)("buttons.edit")),1)]),_:1})]),_:1},8,["subtitle"]),a(e(z),{class:"page-body",vertical:"",size:16},{default:t(()=>[a(e(P),{cols:"1 640:2","label-position":"left","label-align":"right","label-width":85},{default:t(()=>[a(e(m),{label:e(r)("fields.id")},{default:t(()=>[o(n(l.value.id),1)]),_:1},8,["label"]),a(e(m),{label:e(r)("fields.name")},{default:t(()=>[o(n(l.value.name),1)]),_:1},8,["label"]),a(e(m),{span:2,label:e(r)("fields.desc")},{default:t(()=>[o(n(l.value.desc),1)]),_:1},8,["label"]),a(e(m),{label:e(r)("fields.created_by")},{default:t(()=>{var s,u;return[(s=l.value.createdBy)!=null&&s.id?(p(),c(B,{key:0,url:{name:"user_detail",params:{id:(u=l.value.createdBy)==null?void 0:u.id}}},{default:t(()=>{var d;return[o(n((d=l.value.createdBy)==null?void 0:d.name),1)]}),_:1},8,["url"])):y("",!0)]}),_:1},8,["label"]),a(e(m),{label:e(r)("fields.created_at")},{default:t(()=>[a(e(N),{time:l.value.createdAt,format:"y-MM-dd HH:mm:ss"},null,8,["time"])]),_:1},8,["label"]),a(e(m),{label:e(r)("fields.updated_by")},{default:t(()=>{var s,u;return[(s=l.value.updatedBy)!=null&&s.id?(p(),c(B,{key:0,url:{name:"user_detail",params:{id:(u=l.value.updatedBy)==null?void 0:u.id}}},{default:t(()=>{var d;return[o(n((d=l.value.updatedBy)==null?void 0:d.name),1)]}),_:1},8,["url"])):y("",!0)]}),_:1},8,["label"]),a(e(m),{label:e(r)("fields.updated_at")},{default:t(()=>[a(e(N),{time:l.value.updatedAt,format:"y-MM-dd HH:mm:ss"},null,8,["time"])]),_:1},8,["label"])]),_:1}),a(D,{title:e(r)("fields.perms")},{default:t(()=>[a(e(G),{cols:"1 640:2 960:3 1440:4","x-gap":"6","y-gap":"6"},{default:t(()=>[(p(!0),_(v,null,x(e(k),s=>(p(),c(e(j),{span:"1"},{default:t(()=>[a(I,{type:"warning",label:s.group,value:s.items},null,8,["label","value"])]),_:2},1024))),256))]),_:1})]),_:1},8,["title"])]),_:1})],64))}});export{ae as default};
